(self.webpackChunkCometChatWidget=self.webpackChunkCometChatWidget||[]).push([[3],{8412:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DockedLauncher:()=>F}),n(9665),n(5767),n(6108),n(2139),n(8838),n(6409),n(1181),n(6997),n(6253),n(7476);var o=n(7294),r=n(5697),i=n.n(r),a=n(917),c=n(6561),u=n(7393),s=n(7047),d=(n(8351),n(9375),n(2935));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){var e,t,n=(e=["\n    from {\n        opacity: 0;\n        transform: scale(0.5);\n    }\n    to {\n        opacity: 1;\n        transform: scale(1);\n    }"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return h=function(){return n},n}var y=function(e,t){var n,o=(0,d.BM)(),r=e.hasOwnProperty("alignment")&&"left"===e.alignment?{left:"".concat(o.dockedIconHorizontalPadding,"px"),right:"unset"}:{},i={background:"#03a9f4"};(0,s.O)(e.settings,"style","docked_layout_icon_background")&&(i={background:e.settings.style.docked_layout_icon_background});var a=t(h());return p(p((f(n={zIndex:"2147483000",position:"fixed",bottom:"".concat(o.dockedBottomPadding,"px"),right:"".concat(o.dockedIconHorizontalPadding,"px"),width:"".concat(o.dockedIconWidth,"px"),height:"".concat(o.dockedIconHeight,"px"),boxShadow:"rgba(0, 0, 0, 0.06) 0px 1px 6px 0px, rgba(0, 0, 0, 0.16) 0px 2px 32px 0px",borderRadius:"50%",cursor:"pointer"},"boxShadow","0 1px 6px 0 rgba(0, 0, 0, 0.06), 0 2px 32px 0 rgba(0, 0, 0, 0.16)"),f(n,"animation","".concat(a," 250ms ease")),n),r),i)},b=function(e){var t=(0,d.BM)(),n={background:"#03a9f4"};return(0,s.O)(e.settings,"style","docked_layout_icon_background")&&(n={background:e.settings.style.docked_layout_icon_background}),p({position:"absolute",top:"0px",left:"0px",width:"".concat(t.dockedIconWidth,"px"),height:"".concat(t.dockedIconHeight,"px"),cursor:"pointer",transformOrigin:"center center 0px",borderRadius:"50%",overflow:"hidden",opacity:"1"},n)},m=function(e){return p({},!1===e.active?{opacity:"1",transform:"rotate(0deg) scale(1)"}:{opacity:"0",transform:"rotate(30deg) scale(0)"})},g=function(e){return p({},!0===e.active?{opacity:"1",transform:"rotate(0deg)"}:{opacity:"0",transform:"rotate(-60deg)"})},v=n(7905),_=n.n(v),O=n(3892),w=n.n(O);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(d,e);var t,n,o,r,i=(o=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(o);if(r){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),M(C(t=i.call(this,e)),"componentDidMount",(function(){t.updateUnreadCount()})),M(C(t),"componentDidUpdate",(function(e){e.messagelist!==t.props.messagelist&&t.updateUnreadCount(),e.active!==t.props.active&&t.setState({active:t.props.active})})),M(C(t),"updateUnreadCount",(function(){if(0===Object.keys(t.props.messagelist).length)return!1;var e=t.props.messagelist,n=Object.values(e).reduce((function(e,t){return e+t}));t.setState({unreadcount:n})})),M(C(t),"toggleView",(function(){var e=t.state.active;t.setState({active:!e}),t.props.clicked(),window.init(!1)})),t.state={active:!1,unreadcount:0},t}return t=d,(n=[{key:"render",value:function(){var e,t=null;this.state.unreadcount&&(t=(0,a.tZ)("div",{css:{position:"relative",zIndex:"2"}},(0,a.tZ)("span",{css:(e=this.props,{backgroundColor:"#FF5757",borderRadius:"50%",textAlign:"center",color:"#FFFFFF",position:"absolute",top:"-8px",right:"-6px",display:"block",minWidth:"18px",minHeight:"18px",lineHeight:"18px",padding:"2px",fontSize:"13px",fontWeight:"bold",fontFamily:"".concat(e.theme.fontFamily)})},this.state.unreadcount>9?"9+":this.state.unreadcount)));var n=(0,a.tZ)("img",{src:_(),css:m(this.state)});if((0,s.O)(this.props.settings,"style","docked_layout_icon_open")){var o=this.props.settings.style.docked_layout_icon_open;n=(0,a.tZ)("img",{src:o,css:m(this.state)})}var r=(0,a.tZ)("img",{src:w(),css:g(this.state)});if((0,s.O)(this.props.settings,"style","docked_layout_icon_close")){var i=this.props.settings.style.docked_layout_icon_close;r=(0,a.tZ)("img",{src:i,css:g(this.state)})}return(0,a.tZ)("div",{css:y(this.props,a.F4),onClick:this.toggleView,className:"app__launcher"},(0,a.tZ)(c.ZP,{css:{maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",boxSizing:"border-box",border:"none",width:"100%",height:"100%"}},(0,a.tZ)(u.r,null,t,(0,a.tZ)("div",{css:b(this.props),className:"launcher__wrapper"},(0,a.tZ)("div",{css:{display:"flex",alignItems:"center",justifyContent:"center",img:{outline:"none",position:"absolute",top:"0",left:"0",width:"100%",height:"100%",transition:"transform 0.16s linear, opacity 0.08s linear",objectFit:"contain"}},className:"launcher__container"},n,r)))))}}])&&x(t.prototype,n),d}(o.Component);F.defaultProps={active:!1},F.propTypes={active:i().bool}},2935:(e,t,n)=>{"use strict";n.d(t,{ih:()=>o,jw:()=>r,IW:()=>i,BM:()=>a});var o="100%",r="100%",i=450,a=function(){var e={dockedIconWidth:60,dockedIconHeight:60,dockedBottomPadding:20,dockedHorizontalPadding:20,dockedIconHorizontalPadding:20};return window.innerWidth<=i&&(e.dockedIconWidth=40,e.dockedIconHeight=40,e.dockedBottomPadding=5,e.dockedHorizontalPadding=0,e.dockedIconHorizontalPadding=5),e}},7393:(e,t,n)=>{"use strict";n.d(t,{r:()=>d});var o,r,i=n(7294),a=n(5260),c=n(4792),u=n(6561),s=(o=function(e){return(0,c.Z)({container:e,key:"frameprovider"})},r=new WeakMap,function(e){if(r.has(e))return r.get(e);var t=o(e);return r.set(e,t),t}),d=function(e){return i.createElement(u.Kr,null,(function(t){var n=t.document;return i.createElement(a.C,{value:s(n.head)},e.children)}))}},7905:(e,t,n)=>{e.exports=n.p+"resources/chat_bubble-69c0147ecd0768d77e050a4dbaa01aa3.svg"},3892:(e,t,n)=>{e.exports=n.p+"resources/chat_close-6dd39d23f41c1cfe35bc9ba1d0cd69a2.svg"},9928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(7294),i=(a(r),a(n(5697)));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.contentDidMount()}},{key:"componentDidUpdate",value:function(){this.props.contentDidUpdate()}},{key:"render",value:function(){return r.Children.only(this.props.children)}}]),t}(r.Component);s.propTypes={children:i.default.element.isRequired,contentDidMount:i.default.func.isRequired,contentDidUpdate:i.default.func.isRequired},t.default=s},1054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameContextConsumer=t.FrameContextProvider=t.FrameContext=void 0;var o,r=(o=n(7294))&&o.__esModule?o:{default:o},i=void 0,a=void 0;"undefined"!=typeof document&&(i=document),"undefined"!=typeof window&&(a=window);var c=t.FrameContext=r.default.createContext({document:i,window:a}),u=c.Provider,s=c.Consumer;t.FrameContextProvider=u,t.FrameContextConsumer=s},8698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(7294),a=l(i),c=l(n(3935)),u=l(n(5697)),s=n(1054),d=l(n(9928));function l(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.handleLoad=function(){o.forceUpdate()},o._isMounted=!1,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=this.getDoc();e&&"complete"===e.readyState?this.forceUpdate():this.node.addEventListener("load",this.handleLoad)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.node.removeEventListener("load",this.handleLoad)}},{key:"getDoc",value:function(){return this.node?this.node.contentDocument:null}},{key:"getMountTarget",value:function(){var e=this.getDoc();return this.props.mountTarget?e.querySelector(this.props.mountTarget):e.body.children[0]}},{key:"renderFrameContents",value:function(){if(!this._isMounted)return null;var e=this.getDoc();if(!e)return null;var t=this.props.contentDidMount,n=this.props.contentDidUpdate,o=e.defaultView||e.parentView,r=a.default.createElement(d.default,{contentDidMount:t,contentDidUpdate:n},a.default.createElement(s.FrameContextProvider,{value:{document:e,window:o}},a.default.createElement("div",{className:"frame-content"},this.props.children)));e.body.children.length<1&&(e.open("text/html","replace"),e.write(this.props.initialContent),e.close());var i=this.getMountTarget();return[c.default.createPortal(this.props.head,this.getDoc().head),c.default.createPortal(r,i)]}},{key:"render",value:function(){var e=this,t=o({},this.props,{children:void 0});return delete t.head,delete t.initialContent,delete t.mountTarget,delete t.contentDidMount,delete t.contentDidUpdate,a.default.createElement("iframe",o({},t,{ref:function(t){e.node=t}}),this.renderFrameContents())}}]),t}(i.Component);p.propTypes={style:u.default.object,head:u.default.node,initialContent:u.default.string,mountTarget:u.default.string,contentDidMount:u.default.func,contentDidUpdate:u.default.func,children:u.default.oneOfType([u.default.element,u.default.arrayOf(u.default.element)])},p.defaultProps={style:{},head:null,children:void 0,mountTarget:void 0,contentDidMount:function(){},contentDidUpdate:function(){},initialContent:'<!DOCTYPE html><html><head></head><body><div class="frame-root"></div></body></html>'},t.default=p},6561:(e,t,n)=>{"use strict";t.Kr=void 0;var o=n(1054);Object.defineProperty(t,"Kr",{enumerable:!0,get:function(){return o.FrameContextConsumer}});var r,i=(r=n(8698))&&r.__esModule?r:{default:r};t.ZP=i.default}}]);
//# sourceMappingURL=3.chunk.a8ef7489f9c1430a9866.js.map